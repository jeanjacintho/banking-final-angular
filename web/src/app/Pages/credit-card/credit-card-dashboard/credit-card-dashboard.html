<div class="min-h-screen bg-gray-900 text-white p-8">
  <div class="max-w-5xl mx-auto space-y-8">
    <h1 class="text-2xl font-bold">Your Cards</h1>

    <!-- Lista de cartões -->
    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      <app-credit-card
        *ngFor="let card of cards"
        [card]="card"
        [selected]="selectedCard?.id === card.id"
        (select)="onSelectCard($event)"
      ></app-credit-card>
    </div>

    <!-- Resumo da fatura do cartão selecionado -->
    <section class="mt-8">
      <h2 class="text-lg font-semibold mb-3">Resumo da Fatura</h2>

      <div *ngIf="!selectedCard" class="text-gray-400 text-sm">
        Selecione um cartão para ver a fatura.
      </div>

      <div *ngIf="selectedCard" class="rounded-xl bg-gray-800 p-6">
        <div class="flex items-center justify-between mb-4">
          <div>
            <p class="text-sm text-gray-400">Cartão</p>
            <p class="font-medium">
              {{ selectedCard.brand }} •
              {{ selectedCard.maskedPan || ('**** **** **** ' + (selectedCard.cardNumber | slice:-4)) }}
            </p>
          </div>
          <div class="text-right">
            <p class="text-sm text-gray-400">Fatura Atual</p>
            <p class="text-2xl font-bold text-red-400">{{ invoiceTotalBySelected | currency:'BRL' }}</p>
          </div>
        </div>

        <app-invoice-summary
          [items]="invoiceItems"
          [loading]="invoiceLoading"
        ></app-invoice-summary>
      </div>
    </section>

    <!-- Botão solicitar novo cartão -->
    <div class="flex justify-end">
      <a routerLink="/credit-cards/request" class="inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-white hover:bg-indigo-700">
        <span class="text-xl leading-none">+</span>
        Solicitar novo cartão
      </a>
    </div>
  </div>
</div>